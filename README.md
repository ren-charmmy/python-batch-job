# python-batch-job

## 概要

オープンAPIからデータを取得し、CSVファイルに出力するPythonバッチ処理です。  
Linuxサーバー上でcronによる定期実行を前提としています。

### 1. 実行環境
- Linuxサーバー上で稼働（cronによる定期実行）
- Python 3.9 以上を使用
- 仮想環境(Codespacesのコンテナ環境)でライブラリを管理

### 2. 入力
- オープンAPI（APIキー認証なし）
- JSON形式でレスポンスを受け取る

### 3. 出力
- CSVファイル(日時のファイル名)への書き込み
- オープンAPIから取得したJSON形式のデータを「,」(カンマ区切り)で出力

### 4. 処理内容
1. APIにリクエストを送信し、データを取得する
   - 通信エラー時：5分後にリトライ処理をすること
2. 必要な項目を抽出し、Pythonのデータ構造（list, dict）に変換
3. CSVファイルとして保存
   - 保存先: `data/`
   - ファイル名: `output_YYYY-MM-DD.csv`
4. ログ出力
   - 保存先: `logs/`
   - 成功・失敗をINFO/ERRORレベルで記録
5. 冪等性の担保
   - 同じ日付のデータは上書き保存（重複ファイルを生成しない）